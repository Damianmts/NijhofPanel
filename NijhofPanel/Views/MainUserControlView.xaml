<UserControl x:Class="NijhofPanel.Views.MainUserControlView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:viewModel="clr-namespace:NijhofPanel.ViewModels"
             xmlns:services="clr-namespace:NijhofPanel.Services"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance viewModel:MainUserControlViewModel}"
             Background="{DynamicResource CurrentBackgroundColor}"
             Height="700"
             Width="320"
             MinHeight="700"
             MinWidth="320">
    
    <!-- To Do -->
    <!-- TODO - Change Sidebar to DockPanel as seen in 'Documentation.DockPanel' to make selection color work again for 'Settings' -->
    <!-- TODO - Add 'Dark Mode'. Example in 'Documentation.DarkMode' -->
    <!-- TODO - Put vector icons in resource dictionary 'SidebarVectorIcons' -->
    
    <!-- Resources -->
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/NijhofPanel;component/Resources/Icons/SidebarVectorIcons.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/NijhofPanel;component/Resources/Themes/Thm_DarkMode.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/NijhofPanel;component/Resources/Themes/Thm_Sidebar.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <SolidColorBrush x:Key="CurrentBackgroundColor" Color="{Binding Color, Source={StaticResource BackgroundColor_Light}}"/>
            <SolidColorBrush x:Key="CurrentTextColor" Color="{Binding Color, Source={StaticResource TextColor_Light}}"/>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid>
        <!-- Sidebar ("50") and Page Column -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        
        <!-- Split rows for Sidebar Buttons and Settings Button -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
        
            <!-- Page Buttons -->
        <ListBox Grid.Row="0" SelectionMode="Single" SelectionChanged="Sidebar_SelectionChanged" x:Name="Sidebar" Margin="0,0,0,0" BorderThickness="0">
            <services:NavButtonService Navlink="pack://application:,,,/NijhofPanel;component/Views/StartPageView.xaml" Margin="3" Padding="6" 
                                    Icon="{StaticResource HomeIcon}"/>
            <Separator />
            <Separator />
            <services:NavButtonService Navlink="pack://application:,,,/NijhofPanel;component/Views/ToolsPageView.xaml" Margin="3" Padding="6" 
                                    Icon="{StaticResource WToolsIcon}"/>
            <Separator />
            <services:NavButtonService Navlink="pack://application:,,,/NijhofPanel;component/Views/ElectricalPageView.xaml" Margin="3" Padding="6" 
                                    Icon="{StaticResource EToolsIcon}"/>
            <Separator />
            
            <!-- Window Buttons -->
            <Separator />
            <services:WindowButtonService Navlink="LibraryWindowView" Margin="3" Padding="6" 
                                       Icon="{StaticResource LibraryIcon}"/>
            <Separator />
            <services:WindowButtonService Navlink="PrefabWindowView" Margin="3" Padding="6"
                                       Icon="{StaticResource PrefabIcon}"/>
            <Separator />
            <services:WindowButtonService Navlink="FittingListWindowView" Margin="3" Padding="6"
                                       Icon="{StaticResource FittingsIcon}"/>
            <Separator />
            <services:WindowButtonService Navlink="SawListWindowView" Margin="3" Padding="6"
                                       Icon="{StaticResource SawIcon}"/>
        </ListBox>

            <!-- Dark mode, User and Settings Buttons -->
            <StackPanel Grid.Row="1" Orientation="Vertical" HorizontalAlignment="Center" Margin="0,0,0,0">
                <Separator/>
                <services:NavButtonService Command="{Binding Com_ToggleTheme}" Margin="3" Padding="6"
                                        Icon="{StaticResource DarkModeIcon}"/>
                <Separator/>
                <services:NavButtonService Navlink="pack://application:,,,/NijhofPanel;component/Views/UserPageView.xaml" Margin="3" Padding="6" MouseLeftButtonUp="OnNavButtonClick"
                                        Icon="{StaticResource UserIcon}"/>
                <Separator/>
                <services:NavButtonService Navlink="pack://application:,,,/NijhofPanel;component/Views/SettingsPageView.xaml" Margin="3" Padding="6" MouseLeftButtonUp="OnNavButtonClick"
                                        Icon="{StaticResource SettingsIcon}"/>
            </StackPanel>
        </Grid>
        
        <!-- Right separator line -->
        <Border Grid.Column="0" 
                BorderThickness="0,0,1,0" 
                BorderBrush="#DDDDDD"/>
        
        <!-- Page Frame -->
        <Frame Grid.Column="1" x:Name="Navframe" NavigationUIVisibility="Hidden" Background="#e9ecef" />
        
    </Grid>
</UserControl>
